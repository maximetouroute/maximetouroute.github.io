{"version":3,"sources":["webpack:///./src/pages/photoBook.js"],"names":["photoGridProptypes","gatsbyImages","a","array","isRequired","PhotoGrid","props","_this","_React$Component","call","this","state","photoIndex","isOpen","generatePicture","picture","index","margin","src","_this2","className","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","style","childImageSharp","sizes","backgroundImage","onClick","setState","key","id","generateGrid","pictures","numberPerRow","photoGrid","i","length","photoRow","columnIndex","push","render","_this3","_this$state","images","map","Fragment","react_image_lightbox__WEBPACK_IMPORTED_MODULE_12___default","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","Component","propTypes","PhotoBook","_this4","_React$Component2","quickSortObjectBasedOnPartOfKeyName","partOfKeyName","obj","Object","keys","filter","indexOf","_this5","_layout_layout__WEBPACK_IMPORTED_MODULE_9__","photoBookAlbums","album","pics","keyToken","data","title","description","textAlign","href","target","rel","sameFileImage","query"],"mappings":"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","file":"component---src-pages-photo-book-js-ab97fc83b5032098db4e.js","sourcesContent":["import React from 'react'\nimport { Link, graphql, navigate } from 'gatsby'\nimport Layout from '../layout/layout'\nimport './photoBook.scss'\nimport './../layout/page.scss'\nimport Lightbox from 'react-image-lightbox'\nimport 'react-image-lightbox/style.css' // This only needs to be imported once in your app\nimport PropTypes from 'prop-types'\n\n\nfunction styleBackgroundPhoto(src) {\n  return {\n    backgroundImage: 'url(' + src + ')',\n  }\n}\n\nconst photoGridProptypes = { gatsbyImages: PropTypes.array.isRequired }\nclass PhotoGrid extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      photoIndex: 0,\n      isOpen: false,\n    }\n  }\n\n  generatePicture(picture, index, margin) {\n    let className = margin ? `photoThumbnail marginRight` : `photoThumbnail`\n    return (\n      <div className={className} style={styleBackgroundPhoto(picture.childImageSharp.sizes.src)}\n           onClick={() => this.setState({ isOpen: true, photoIndex: index })} key={picture.id}/>\n    )\n  }\n\n  //numberPerRow is a WIP, needs changes in sass too\n  generateGrid(pictures, numberPerRow = 3) {\n\n    let photoGrid = []\n    for (let i = 0; i < pictures.length; i += numberPerRow) {\n\n      let photoRow = []\n\n      for (let columnIndex = 0; columnIndex < numberPerRow && i + columnIndex < pictures.length; columnIndex++) {\n        // handle margin right\n        if (columnIndex < numberPerRow) {\n          photoRow.push(this.generatePicture(pictures[i + columnIndex], i + columnIndex, true))\n        } else {\n          photoRow.push(this.generatePicture(pictures[i + columnIndex], i + columnIndex, false))\n        }\n      }\n      photoGrid.push(\n        <div className=\"photoRowContainer\" key={pictures[i].id}>\n          {photoRow}\n        </div>,\n      )\n      photoRow = []\n    }\n    return photoGrid\n  }\n\n\n  render() {\n\n    const { isOpen, photoIndex } = this.state\n    const images = this.props.gatsbyImages.map(gatsbyImages => gatsbyImages.childImageSharp.sizes.src)\n\n    return (\n      <>\n        {isOpen && (\n\n          <Lightbox\n            mainSrc={images[photoIndex]}\n            nextSrc={images[(photoIndex + 1) % images.length]}\n            prevSrc={images[(photoIndex + images.length - 1) % images.length]}\n            onCloseRequest={() => this.setState({ isOpen: false })}\n            onMovePrevRequest={() =>\n              this.setState({\n                photoIndex: (photoIndex + images.length - 1) % images.length,\n              })\n            }\n            onMoveNextRequest={() =>\n              this.setState({\n                photoIndex: (photoIndex + 1) % images.length,\n              })\n            }\n          />\n        )}\n\n        <div className=\"photoGrid\">\n          {this.generateGrid(this.props.gatsbyImages)}\n        </div>\n      </>\n\n    )\n  }\n\n}\n\nPhotoGrid.propTypes = photoGridProptypes;\n\n\n\nexport default class PhotoBook extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {}\n  }\n\n  quickSortObjectBasedOnPartOfKeyName(partOfKeyName, obj) {\n    return Object.keys(obj).filter(function(key) {\n      return key.indexOf(partOfKeyName) === 0;\n    }).map(key => obj[key])\n  }\n\n  render() {\n\n    return (\n      <Layout>\n        <div className=\"coverBand\" id=\"content\">\n          <div className=\"overlay overlaySmaller\">\n            <div className=\"punchline\">Photo Book</div>\n          </div>\n        </div>\n\n        <div className=\"pageContent\">\n          <div className=\"pageContainer\">\n            {photoBookAlbums.map(album => {\n              const pics = this.quickSortObjectBasedOnPartOfKeyName(album.keyToken, this.props.data)\n              return (\n              <>\n              <h1>{album.title}</h1>\n              <p>{album.description}</p>\n                <PhotoGrid gatsbyImages={pics}/>\n              </>\n            )})}\n\n            <p style={{textAlign:'center'}}>Want more ? check out my <a href=\"https://instagram.com/maximetouroute\" target=\"_blank\" rel=\"noreferrer noopener\">Instagram</a></p>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n\n}\n\nexport const photoBookAlbums = [\n  {\n    title: \"Experiments\",\n    description: \"A series of experiments on the usage of lighting and photography techniques\",\n    keyToken: \"e\"\n  },\n  {\n    title: \"Portraits\",\n    description: \"\",\n    keyToken: \"p\"\n  },\n  {\n    title: \"Landscapes\",\n    description: \"\",\n    keyToken: \"l\"\n  },\n  {\n    title: \"Dailies\",\n    description: \"A collection of shots from the everyday ramblings of my life\",\n    keyToken: \"d\"\n  },\n]\n\nexport const sameFileImage = graphql`\n    fragment sameFileImage on File {\n        childImageSharp {\n            sizes(maxWidth: 1920) {\n                ...GatsbyImageSharpSizes\n                src\n            }\n        }\n    }`\n\nexport const query = graphql`\n    query {\n\n        l1:file(relativePath: {eq: \"photoBook/landscapes/b-33.jpg\"}) {...sameFileImage}\n        l2:file(relativePath: {eq: \"photoBook/landscapes/b-34.jpg\"}) {...sameFileImage}\n        l3:file(relativePath: {eq: \"photoBook/landscapes/b-27.jpg\"}) {...sameFileImage}\n        l4:file(relativePath: {eq: \"photoBook/landscapes/b-37.jpg\"}) {...sameFileImage}\n        l5:file(relativePath: {eq: \"photoBook/landscapes/b-39.jpg\"}) {...sameFileImage}\n        l6:file(relativePath: {eq: \"photoBook/landscapes/b-40.jpg\"}) {...sameFileImage}\n        l7:file(relativePath: {eq: \"photoBook/landscapes/b-44.jpg\"}) {...sameFileImage}\n        l8:file(relativePath: {eq: \"photoBook/landscapes/b-46.jpg\"}) {...sameFileImage}\n        l9:file(relativePath: {eq: \"photoBook/landscapes/b-9.jpg\"}) {...sameFileImage}\n        l10:file(relativePath: {eq: \"photoBook/landscapes/b-38.jpg\"}) {...sameFileImage}\n        l11:file(relativePath: {eq: \"photoBook/landscapes/b-35.jpg\"}) {...sameFileImage}\n\n        e1:file(relativePath: {eq: \"photoBook/experiments/b-22.jpg\"}) {...sameFileImage}\n        e2:file(relativePath: {eq: \"photoBook/experiments/b-20.jpg\"}) {...sameFileImage}\n        e3:file(relativePath: {eq: \"photoBook/experiments/b-23.jpg\"}) {...sameFileImage}\n        e4:file(relativePath: {eq: \"photoBook/experiments/b-8.jpg\"}) {...sameFileImage}\n        e5:file(relativePath: {eq: \"photoBook/experiments/b-12.jpg\"}) {...sameFileImage}\n        e6:file(relativePath: {eq: \"photoBook/experiments/b-28.jpg\"}) {...sameFileImage}\n        e7:file(relativePath: {eq: \"photoBook/experiments/b-2.jpg\"}) {...sameFileImage}\n        e8:file(relativePath: {eq: \"photoBook/experiments/b-13.jpg\"}) {...sameFileImage}\n        e9:file(relativePath: {eq: \"photoBook/experiments/b-1.jpg\"}) {...sameFileImage}\n        e10:file(relativePath: {eq: \"photoBook/experiments/b-24.jpg\"}) {...sameFileImage}\n        e11:file(relativePath: {eq: \"photoBook/experiments/b-29.jpg\"}) {...sameFileImage}\n        e12:file(relativePath: {eq: \"photoBook/experiments/b-25.jpg\"}) {...sameFileImage}\n        \n        p1:file(relativePath: {eq: \"photoBook/portraits/b-19.jpg\"}) {...sameFileImage}\n        p2:file(relativePath: {eq: \"photoBook/portraits/b-9.jpg\"}) {...sameFileImage}\n        p3:file(relativePath: {eq: \"photoBook/portraits/b-18.jpg\"}) {...sameFileImage}\n        p4:file(relativePath: {eq: \"photoBook/portraits/b-12.jpg\"}) {...sameFileImage}\n        p5:file(relativePath: {eq: \"photoBook/portraits/b-21.jpg\"}) {...sameFileImage}\n        p6:file(relativePath: {eq: \"photoBook/portraits/b-26.jpg\"}) {...sameFileImage}\n        p7:file(relativePath: {eq: \"photoBook/portraits/b-16.jpg\"}) {...sameFileImage}\n        p8:file(relativePath: {eq: \"photoBook/portraits/b-20.jpg\"}) {...sameFileImage}\n        p9:file(relativePath: {eq: \"photoBook/portraits/b-24.jpg\"}) {...sameFileImage}\n\n        d1:file(relativePath: {eq: \"photoBook/dailies/b-10.jpg\"}) {...sameFileImage}\n        d2:file(relativePath: {eq: \"photoBook/dailies/b-14.jpg\"}) {...sameFileImage}\n        d3:file(relativePath: {eq: \"photoBook/dailies/b-17.jpg\"}) {...sameFileImage}\n        d4:file(relativePath: {eq: \"photoBook/dailies/b-30.jpg\"}) {...sameFileImage}\n        d5:file(relativePath: {eq: \"photoBook/dailies/b-18.jpg\"}) {...sameFileImage}\n        d6:file(relativePath: {eq: \"photoBook/dailies/b-32.jpg\"}) {...sameFileImage}\n        d7:file(relativePath: {eq: \"photoBook/dailies/b-11.jpg\"}) {...sameFileImage}\n        d8:file(relativePath: {eq: \"photoBook/dailies/b-16.jpg\"}) {...sameFileImage}\n        d9:file(relativePath: {eq: \"photoBook/dailies/b-4.jpg\"}) {...sameFileImage}\n\n    }`\n"],"sourceRoot":""}