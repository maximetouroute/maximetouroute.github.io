(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{146:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(148),r=(n(162),n(217),n(163)),l=n.n(r),s=n(177),d=(n(27),n(72),n(6)),g=n.n(d),c=n(1),m=n.n(c),p=n(219),u={leftImage:m.a.string.isRequired,rightImage:m.a.string.isRequired,sliderLineWidth:m.a.number,handleSize:m.a.number,hover:m.a.bool,skeleton:m.a.element,autoReloadSpan:m.a.number,autoReloadLimit:m.a.number,sliderPositionPercentage:m.a.number},h=function(e){function t(t){var n;return(n=e.call(this,t)||this).componentDidMount=function(){console.log("didmount");var e=n.containerRef.current;new p.ResizeSensor(e,function(){n.setImagesSize()}),e.addEventListener("touchstart",n.startSliding),window.addEventListener("touchend",n.finishSliding),n.props.hover?(e.addEventListener("mouseenter",n.startSliding),e.addEventListener("mouseleave",n.finishSliding)):(e.addEventListener("mousedown",n.startSliding),window.addEventListener("mouseup",n.finishSliding))},n.componentDidUpdate=function(e,t){console.info("did update"),!1===t.isImgFullyLoaded&&!0===n.state.isImgFullyLoaded&&n.setImagesSize(),n.props.leftImage===e.leftImage&&n.props.rightImage===e.rightImage||(n.underImageRef.current.src=null,n.overImageRef.current.src=null,n.isLoadingRightImg=!0,n.isLoadingLeftImg=!0,n.setState({isImgFullyLoaded:!1}),n.underImageRef.current.src=n.props.rightImage,n.overImageRef.current.src=n.props.leftImage)},n.componentWillUnmount=function(){n.finishSliding(),window.removeEventListener("mouseup",n.finishSliding),window.removeEventListener("touchend",n.finishSliding),n.autoReloadTasks.forEach(function(e){return clearTimeout(e)})},n.setImagesSize=function(){console.log("test hast5?0"),void 0===n.underImageRef?(console.log("ITS UNDEFINED"),n.setState({imageWidth:200})):null===n.underImageRef?(console.log("its null"),n.setState({imageWidth:200})):(console.log("its ok"),n.setState({imageWidth:n.underImageRef.current.getBoundingClientRect().width}))},n.startSliding=function(e){"touches"in e||e.preventDefault(),n.handleSliding(e),window.addEventListener("mousemove",n.handleSliding),window.addEventListener("touchmove",n.handleSliding)},n.finishSliding=function(){window.removeEventListener("mousemove",n.handleSliding),window.removeEventListener("touchmove",n.handleSliding)},n.handleSliding=function(e){var t=e||window.event,i=(t.touches?t.touches[0].pageX:t.pageX)-window.pageXOffset-n.underImageRef.current.getBoundingClientRect().left,o=0+n.props.sliderLineWidth/2,a=n.state.imageWidth-n.props.sliderLineWidth/2;i<o&&(i=o),i>a&&(i=a),n.setState({sliderPositionPercentage:i/n.state.imageWidth})},n.onRightImageLoaded=function(){console.log("onrightimgl"),n.isLoadingRightImg=!1,n.isLoadingRightImg||n.isLoadingLeftImg||n.setState({isImgFullyLoaded:!0})},n.onLeftImageLoaded=function(){console.log("onleftimgl"),n.isLoadingLeftImg=!1,n.isLoadingRightImg||n.isLoadingLeftImg||n.setState({isImgFullyLoaded:!0})},n.onError=function(e,t){console.log("onerror");var i=n.props,o=i.autoReloadSpan,a=i.autoReloadLimit;if(o&&!(n.retryCount>=a)){var r=setTimeout(function(){e.current.src=null,e.current.src=t},o);n.autoReloadTasks.push(r),n.retryCount+=1}},n.render=function(){var e={container:{boxSizing:"border-box",position:"relative",width:"100%",overflow:"hidden",marginTop:"1em",marginBottom:"1em"},underImage:{display:"block",height:"auto",width:"100%",background:"url("+n.props.underImage+")"},overImage:{clip:"rect(auto, "+n.state.imageWidth*n.state.sliderPositionPercentage+"px, auto, auto)",display:"block",height:"100%",objectFit:"cover",position:"absolute",top:0,width:"100%"},slider:{alignItems:"center",cursor:!n.props.hover&&"ew-resize",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",left:n.state.imageWidth*n.state.sliderPositionPercentage-n.props.handleSize/2+"px",position:"absolute",top:0,width:n.props.handleSize+"px"},line:{background:"white",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:"100%",width:n.props.sliderLineWidth+"px"},handle:{alignItems:"center",border:n.props.sliderLineWidth+"px solid white",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"80px",justifyContent:"center",width:"10px",backgroundColor:"white"},leftArrow:{border:"inset "+.15*n.props.handleSize+"px rgba(0,0,0,0)",borderRight:.15*n.props.handleSize+"px solid white",height:"0px",marginLeft:"-"+.5*n.props.handleSize+"px",marginRight:.5*n.props.handleSize+"px",width:"0px"},rightArrow:{border:"inset "+.15*n.props.handleSize+"px rgba(0,0,0,0)",borderLeft:.15*n.props.handleSize+"px solid white",height:"0px",marginRight:"-"+.5*n.props.handleSize+"px",width:"0px"},overlayTextLeft:{alignItems:"flex-start",display:"flex",flexDirection:"column",justifyContent:"center",left:n.state.imageWidth+"-100px",position:"absolute",top:0,backgroundColor:"rgba(0,0,0,0.5)",opacity:n.state.sliderPositionPercentage},overlayTextRight:{alignItems:"flex-end",display:"flex",flexDirection:"column",justifyContent:"center",right:"0",position:"absolute",top:0,backgroundColor:"rgba(0,0,0,0.5)",opacity:1-n.state.sliderPositionPercentage},leftWord:{textAlign:"left",color:"white",fontWeight:400,textTransform:"uppercase",padding:"1em"},rightWord:{textAlign:"right",color:"white",fontWeight:400,textTransform:"uppercase",padding:"1em"}};return o.a.createElement(o.a.Fragment,null,n.props.skeleton&&!n.state.isImgFullyLoaded&&o.a.createElement("div",{style:Object.assign({},e.container)},n.props.skeleton),o.a.createElement("div",{style:Object.assign({},e.container,{display:n.state.isImgFullyLoaded?"block":"none"}),ref:n.containerRef,dataenzyme:"container"},o.a.createElement("img",{onLoad:function(){n.onLeftImageLoaded()},onError:function(){return n.onError(n.underImageRef,n.props.rightImage)},alt:"left",className:"img-comp-under",ref:n.underImageRef,src:n.props.rightImage,style:e.underImage}),o.a.createElement("img",{onLoad:function(){n.onRightImageLoaded()},onError:function(){return n.onError(n.overImageRef,n.props.leftImage)},alt:"right",className:"img-comp-over",ref:n.overImageRef,src:n.props.leftImage,style:e.overImage}),o.a.createElement("div",{style:e.overlayTextRight},o.a.createElement("span",{style:e.leftWord},"RAW")),o.a.createElement("div",{style:e.overlayTextLeft},o.a.createElement("span",{style:e.leftWord},"GRADED")),o.a.createElement("div",{className:"img-comp-slider",style:e.slider},o.a.createElement("div",{style:e.line}),o.a.createElement("div",{style:e.handle},o.a.createElement("div",{style:e.leftArrow}),o.a.createElement("div",{style:e.rightArrow})),o.a.createElement("div",{style:e.line}))))},console.log("got constructor"),n.state={sliderPositionPercentage:n.props.sliderPositionPercentage,imageWidth:0,isImgFullyLoaded:!1},n.containerRef=o.a.createRef(),n.underImageRef=o.a.createRef(),n.overImageRef=o.a.createRef(),n.isLoadingRightImg=!0,n.isLoadingLeftImg=!0,n.autoReloadTasks=[],n.retryCount=0,n}return g()(t,e),t}(o.a.Component);function f(e){var t=e.children.filter(function(e){return"string"!=typeof e}),n=t[0].props.href,i=t[1].props.href;return console.log("---------------"),console.log("left"+n),console.log("right"+i),o.a.createElement(h,{leftImage:n,rightImage:i})}h.propTypes=u,h.defaultProps={sliderLineWidth:2,handleSize:40,hover:!1,skeleton:null,autoReloadSpan:null,autoReloadLimit:10,sliderPositionPercentage:.75},f.propTypes={children:m.a.node.isRequired};var v=f;n.d(t,"default",function(){return I}),n.d(t,"pageQuery",function(){return L});var x=new l.a({createElement:o.a.createElement,components:{"photo-grid":s.a,"image-compare":v}}).Compiler;function I(e){var t=e.data.markdownRemark;return o.a.createElement(a.a,null,o.a.createElement("div",{className:"coverBand",id:"content"},o.a.createElement("div",{className:"overlay"},o.a.createElement("div",{className:"punchline"},t.frontmatter.title),o.a.createElement("div",{className:"subtext"},o.a.createElement("p",null,o.a.createElement("strong",null,t.frontmatter.subtitle," ")),o.a.createElement("p",null,o.a.createElement("em",null,new Date(t.frontmatter.date).getFullYear()))))),o.a.createElement("div",{className:"Page"},o.a.createElement("article",{className:"card",itemScope:!0,itemType:"http://schema.org/BlogPosting"},o.a.createElement("div",{className:"article"},o.a.createElement("br",null),o.a.createElement("br",null),x(t.htmlAst)))))}var L="597801053"}}]);
//# sourceMappingURL=component---src-layout-blog-post-js-99cc3c5cb1b5602008d7.js.map